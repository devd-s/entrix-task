{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.203.1"},"children":{"EnergyAuctionStack-dev":{"id":"EnergyAuctionStack-dev","path":"EnergyAuctionStack-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.203.1"},"children":{"OrderResultsBucket":{"id":"OrderResultsBucket","path":"EnergyAuctionStack-dev/OrderResultsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/OrderResultsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":{"Fn::Join":["",["order-results-dev-",{"Ref":"AWS::AccountId"}]]},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"EnergyAuctionStack-dev/OrderResultsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/OrderResultsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"OrderResultsBucket35E2B63A"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["OrderResultsBucket35E2B63A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["OrderResultsBucket35E2B63A","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"EnergyAuctionStack-dev/OrderResultsBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.203.1","metadata":[]},"children":{"Default":{"id":"Default","path":"EnergyAuctionStack-dev/OrderResultsBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.203.1"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"EnergyAuctionStack-dev/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.203.1"},"children":{"Staging":{"id":"Staging","path":"EnergyAuctionStack-dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.203.1"}},"Role":{"id":"Role","path":"EnergyAuctionStack-dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.203.1"}},"Handler":{"id":"Handler","path":"EnergyAuctionStack-dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.203.1"}}}},"OrdersTable":{"id":"OrdersTable","path":"EnergyAuctionStack-dev/OrdersTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/OrdersTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"record_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"record_id","keyType":"HASH"}],"tableName":"orders-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"EnergyAuctionStack-dev/OrdersTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.203.1","metadata":[]}}}},"ErrorNotificationTopic":{"id":"ErrorNotificationTopic","path":"EnergyAuctionStack-dev/ErrorNotificationTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/ErrorNotificationTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"Error Notifications for Energy Auction","topicName":"error-notifications-dev"}}}}},"PostLambda":{"id":"PostLambda","path":"EnergyAuctionStack-dev/PostLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.203.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"EnergyAuctionStack-dev/PostLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.203.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"EnergyAuctionStack-dev/PostLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.203.1","metadata":[]}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/PostLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"EnergyAuctionStack-dev/PostLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/PostLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["OrdersTable315BB997","Arn"]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"PostLambdaServiceRoleDefaultPolicy1E8FF5CA","roles":[{"Ref":"PostLambdaServiceRole1CD56985"}]}}}}}}},"Code":{"id":"Code","path":"EnergyAuctionStack-dev/PostLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.203.1"},"children":{"Stage":{"id":"Stage","path":"EnergyAuctionStack-dev/PostLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.203.1"}},"AssetBucket":{"id":"AssetBucket","path":"EnergyAuctionStack-dev/PostLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.203.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/PostLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-844682013548-eu-west-1","s3Key":"80fa0d4324672b78795ef93afd3e285b10fc25af2b1fce33f72b00891ea0f29d.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"OrdersTable315BB997"}}},"handler":"app.lambda_handler","role":{"Fn::GetAtt":["PostLambdaServiceRole1CD56985","Arn"]},"runtime":"python3.9","timeout":30}}}}},"LambdaA":{"id":"LambdaA","path":"EnergyAuctionStack-dev/LambdaA","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.203.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"EnergyAuctionStack-dev/LambdaA/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.203.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"EnergyAuctionStack-dev/LambdaA/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.203.1","metadata":[]}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/LambdaA/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"EnergyAuctionStack-dev/LambdaA/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.203.1"},"children":{"Stage":{"id":"Stage","path":"EnergyAuctionStack-dev/LambdaA/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.203.1"}},"AssetBucket":{"id":"AssetBucket","path":"EnergyAuctionStack-dev/LambdaA/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.203.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/LambdaA/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-844682013548-eu-west-1","s3Key":"3f7f6036e4da3bebf9ad731eda4ef80c26f7103aba18080076b49f568181686d.zip"},"handler":"app.lambda_handler","role":{"Fn::GetAtt":["LambdaAServiceRole22081E46","Arn"]},"runtime":"python3.9","timeout":30}}}}},"LambdaB":{"id":"LambdaB","path":"EnergyAuctionStack-dev/LambdaB","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.203.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"EnergyAuctionStack-dev/LambdaB/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.203.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"EnergyAuctionStack-dev/LambdaB/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.203.1","metadata":[]}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/LambdaB/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"EnergyAuctionStack-dev/LambdaB/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/LambdaB/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["OrderResultsBucket35E2B63A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["OrderResultsBucket35E2B63A","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"LambdaBServiceRoleDefaultPolicy42ED4EA2","roles":[{"Ref":"LambdaBServiceRole054CD0BC"}]}}}}}}},"Code":{"id":"Code","path":"EnergyAuctionStack-dev/LambdaB/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.203.1"},"children":{"Stage":{"id":"Stage","path":"EnergyAuctionStack-dev/LambdaB/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.203.1"}},"AssetBucket":{"id":"AssetBucket","path":"EnergyAuctionStack-dev/LambdaB/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.203.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/LambdaB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-844682013548-eu-west-1","s3Key":"e6b814300ad4eb4ac53602a09d16be812454b8d8ace5654bda4d6a6bd271cf4a.zip"},"environment":{"variables":{"LOG_BUCKET":{"Ref":"OrderResultsBucket35E2B63A"}}},"handler":"app.lambda_handler","role":{"Fn::GetAtt":["LambdaBServiceRole054CD0BC","Arn"]},"runtime":"python3.9","timeout":30}}}}},"EnergyAuctionApi":{"id":"EnergyAuctionApi","path":"EnergyAuctionStack-dev/EnergyAuctionApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/EnergyAuctionApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API for energy auction orders","name":"energy-auction-api-dev"}}},"Deployment":{"id":"Deployment","path":"EnergyAuctionStack-dev/EnergyAuctionApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/EnergyAuctionApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API for energy auction orders","restApiId":{"Ref":"EnergyAuctionApi74C6D117"}}}}}},"DeploymentStage.dev":{"id":"DeploymentStage.dev","path":"EnergyAuctionStack-dev/EnergyAuctionApi/DeploymentStage.dev","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/EnergyAuctionApi/DeploymentStage.dev/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"EnergyAuctionApiDeploymentF954A87F684b5eea0aa06d40088484d98ffd43d2"},"restApiId":{"Ref":"EnergyAuctionApi74C6D117"},"stageName":"dev"}}}}},"Endpoint":{"id":"Endpoint","path":"EnergyAuctionStack-dev/EnergyAuctionApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.203.1"}},"Default":{"id":"Default","path":"EnergyAuctionStack-dev/EnergyAuctionApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.203.1","metadata":[]},"children":{"orders":{"id":"orders","path":"EnergyAuctionStack-dev/EnergyAuctionApi/Default/orders","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/EnergyAuctionApi/Default/orders/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["EnergyAuctionApi74C6D117","RootResourceId"]},"pathPart":"orders","restApiId":{"Ref":"EnergyAuctionApi74C6D117"}}}},"POST":{"id":"POST","path":"EnergyAuctionStack-dev/EnergyAuctionApi/Default/orders/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.203.1","metadata":[]},"children":{"ApiPermission.EnergyAuctionStackdevEnergyAuctionApi5AB3508A.POST..orders":{"id":"ApiPermission.EnergyAuctionStackdevEnergyAuctionApi5AB3508A.POST..orders","path":"EnergyAuctionStack-dev/EnergyAuctionApi/Default/orders/POST/ApiPermission.EnergyAuctionStackdevEnergyAuctionApi5AB3508A.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PostLambda0EF1C7F9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:844682013548:",{"Ref":"EnergyAuctionApi74C6D117"},"/",{"Ref":"EnergyAuctionApiDeploymentStagedevF5C882AC"},"/POST/orders"]]}}}},"ApiPermission.Test.EnergyAuctionStackdevEnergyAuctionApi5AB3508A.POST..orders":{"id":"ApiPermission.Test.EnergyAuctionStackdevEnergyAuctionApi5AB3508A.POST..orders","path":"EnergyAuctionStack-dev/EnergyAuctionApi/Default/orders/POST/ApiPermission.Test.EnergyAuctionStackdevEnergyAuctionApi5AB3508A.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PostLambda0EF1C7F9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-west-1:844682013548:",{"Ref":"EnergyAuctionApi74C6D117"},"/test-invoke-stage/POST/orders"]]}}}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/EnergyAuctionApi/Default/orders/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["PostLambda0EF1C7F9","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"EnergyAuctionApiorders6FDFD0A8"},"restApiId":{"Ref":"EnergyAuctionApi74C6D117"}}}}}}}}}}}},"InvokeLambdaA":{"id":"InvokeLambdaA","path":"EnergyAuctionStack-dev/InvokeLambdaA","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.203.1"}},"CheckResults":{"id":"CheckResults","path":"EnergyAuctionStack-dev/CheckResults","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Choice","version":"2.203.1"}},"ProcessOrders":{"id":"ProcessOrders","path":"EnergyAuctionStack-dev/ProcessOrders","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Map","version":"2.203.1"}},"InvokeLambdaB":{"id":"InvokeLambdaB","path":"EnergyAuctionStack-dev/InvokeLambdaB","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.203.1"}},"SendErrorNotification":{"id":"SendErrorNotification","path":"EnergyAuctionStack-dev/SendErrorNotification","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.SnsPublish","version":"2.203.1"}},"ProcessingComplete":{"id":"ProcessingComplete","path":"EnergyAuctionStack-dev/ProcessingComplete","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Succeed","version":"2.203.1"}},"DataPipelineStateMachine":{"id":"DataPipelineStateMachine","path":"EnergyAuctionStack-dev/DataPipelineStateMachine","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.203.1","metadata":[]},"children":{"Role":{"id":"Role","path":"EnergyAuctionStack-dev/DataPipelineStateMachine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.203.1","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"EnergyAuctionStack-dev/DataPipelineStateMachine/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.203.1","metadata":[]}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/DataPipelineStateMachine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"EnergyAuctionStack-dev/DataPipelineStateMachine/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/DataPipelineStateMachine/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["LambdaAE814F098","Arn"]},{"Fn::GetAtt":["LambdaB855AF8F0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LambdaAE814F098","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["LambdaB855AF8F0","Arn"]},":*"]]}]},{"Action":"sns:Publish","Effect":"Allow","Resource":{"Ref":"ErrorNotificationTopic0DACB6F3"}}],"Version":"2012-10-17"},"policyName":"DataPipelineStateMachineRoleDefaultPolicy698F22D8","roles":[{"Ref":"DataPipelineStateMachineRoleCEB53571"}]}}}}}}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/DataPipelineStateMachine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"InvokeLambdaA\",\"States\":{\"InvokeLambdaA\":{\"Next\":\"CheckResults\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Type\":\"Task\",\"OutputPath\":\"$.Payload\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["LambdaAE814F098","Arn"]},"\",\"Payload.$\":\"$\"}},\"CheckResults\":{\"Type\":\"Choice\",\"Choices\":[{\"Variable\":\"$.results\",\"BooleanEquals\":false,\"Next\":\"InvokeLambdaA\"}],\"Default\":\"ProcessOrders\"},\"ProcessOrders\":{\"Type\":\"Map\",\"Next\":\"ProcessingComplete\",\"ItemsPath\":\"$.orders\",\"MaxConcurrency\":10,\"Iterator\":{\"StartAt\":\"InvokeLambdaB\",\"States\":{\"InvokeLambdaB\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Catch\":[{\"ErrorEquals\":[\"States.TaskFailed\"],\"ResultPath\":\"$.error\",\"Next\":\"SendErrorNotification\"}],\"Type\":\"Task\",\"InputPath\":\"$\",\"ResultPath\":\"$.result\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["LambdaB855AF8F0","Arn"]},"\",\"Payload.$\":\"$\"}},\"SendErrorNotification\":{\"End\":true,\"Type\":\"Task\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::sns:publish\",\"Parameters\":{\"TopicArn\":\"",{"Ref":"ErrorNotificationTopic0DACB6F3"},"\",\"Message\":{\"error\":\"Lambda B failed to process order\",\"input.$\":\"$\",\"time.$\":\"$$.State.EnteredTime\"}}}}}},\"ProcessingComplete\":{\"Type\":\"Succeed\"}},\"TimeoutSeconds\":900}"]]},"roleArn":{"Fn::GetAtt":["DataPipelineStateMachineRoleCEB53571","Arn"]},"stateMachineName":"data-pipeline-dev"}}},"EventsRole":{"id":"EventsRole","path":"EnergyAuctionStack-dev/DataPipelineStateMachine/EventsRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.203.1","metadata":[]},"children":{"ImportEventsRole":{"id":"ImportEventsRole","path":"EnergyAuctionStack-dev/DataPipelineStateMachine/EventsRole/ImportEventsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.203.1","metadata":[]}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/DataPipelineStateMachine/EventsRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"events.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"EnergyAuctionStack-dev/DataPipelineStateMachine/EventsRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/DataPipelineStateMachine/EventsRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Ref":"DataPipelineStateMachineA0BAC8C1"}}],"Version":"2012-10-17"},"policyName":"DataPipelineStateMachineEventsRoleDefaultPolicy1D74FEDB","roles":[{"Ref":"DataPipelineStateMachineEventsRoleC7573D65"}]}}}}}}}}},"DataPipelineSchedule":{"id":"DataPipelineSchedule","path":"EnergyAuctionStack-dev/DataPipelineSchedule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/DataPipelineSchedule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"name":"data-pipeline-schedule-dev","scheduleExpression":"rate(1 hour)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Ref":"DataPipelineStateMachineA0BAC8C1"},"roleArn":{"Fn::GetAtt":["DataPipelineStateMachineEventsRoleC7573D65","Arn"]}}]}}}}},"BuildProject":{"id":"BuildProject","path":"EnergyAuctionStack-dev/BuildProject","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.203.1","metadata":[]},"children":{"Role":{"id":"Role","path":"EnergyAuctionStack-dev/BuildProject/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.203.1","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"EnergyAuctionStack-dev/BuildProject/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.203.1","metadata":[]}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/BuildProject/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"EnergyAuctionStack-dev/BuildProject/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/BuildProject/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:logs:eu-west-1:844682013548:log-group:/aws/codebuild/",{"Ref":"BuildProject097C5DB7"},":*"]]},{"Fn::Join":["",["arn:aws:logs:eu-west-1:844682013548:log-group:/aws/codebuild/",{"Ref":"BuildProject097C5DB7"}]]}]},{"Action":["codebuild:BatchPutCodeCoverages","codebuild:BatchPutTestCases","codebuild:CreateReport","codebuild:CreateReportGroup","codebuild:UpdateReport"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:codebuild:eu-west-1:844682013548:report-group/",{"Ref":"BuildProject097C5DB7"},"-*"]]}},{"Action":"*","Effect":"Allow","Resource":"*"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["PipelineArtifactsBucketEncryptionKey01D58D69","Arn"]}}],"Version":"2012-10-17"},"policyName":"BuildProjectRoleDefaultPolicy3E9F248C","roles":[{"Ref":"BuildProjectRoleAA92C755"}]}}}}}}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/BuildProject/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"encryptionKey":{"Fn::GetAtt":["PipelineArtifactsBucketEncryptionKey01D58D69","Arn"]},"environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:5.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"name":"energy-auction-build-dev","serviceRole":{"Fn::GetAtt":["BuildProjectRoleAA92C755","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"install\": {\n      \"runtime-versions\": {\n        \"nodejs\": \"18\"\n      },\n      \"commands\": [\n        \"npm install -g aws-cdk\",\n        \"npm ci\"\n      ]\n    },\n    \"pre_build\": {\n      \"commands\": [\n        \"npm run test\",\n        \"cdk synth\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"cdk deploy --require-approval never\"\n      ]\n    }\n  }\n}"}}}}}},"Pipeline":{"id":"Pipeline","path":"EnergyAuctionStack-dev/Pipeline","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.Pipeline","version":"2.203.1","metadata":[]},"children":{"ArtifactsBucketEncryptionKey":{"id":"ArtifactsBucketEncryptionKey","path":"EnergyAuctionStack-dev/Pipeline/ArtifactsBucketEncryptionKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/Pipeline/ArtifactsBucketEncryptionKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":"arn:aws:iam::844682013548:root"},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"ArtifactsBucketEncryptionKeyAlias":{"id":"ArtifactsBucketEncryptionKeyAlias","path":"EnergyAuctionStack-dev/Pipeline/ArtifactsBucketEncryptionKeyAlias","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Alias","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/Pipeline/ArtifactsBucketEncryptionKeyAlias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnAlias","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Alias","aws:cdk:cloudformation:props":{"aliasName":"alias/codepipeline-energyauctionstack-dev-pipeline-6c53b30a","targetKeyId":{"Fn::GetAtt":["PipelineArtifactsBucketEncryptionKey01D58D69","Arn"]}}}}}},"ArtifactsBucket":{"id":"ArtifactsBucket","path":"EnergyAuctionStack-dev/Pipeline/ArtifactsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/Pipeline/ArtifactsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms","kmsMasterKeyId":{"Fn::GetAtt":["PipelineArtifactsBucketEncryptionKey01D58D69","Arn"]}}}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true}}}},"Policy":{"id":"Policy","path":"EnergyAuctionStack-dev/Pipeline/ArtifactsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/Pipeline/ArtifactsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"PipelineArtifactsBucket22248F97"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"Role":{"id":"Role","path":"EnergyAuctionStack-dev/Pipeline/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.203.1","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"EnergyAuctionStack-dev/Pipeline/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.203.1","metadata":[]}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/Pipeline/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codepipeline.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"EnergyAuctionStack-dev/Pipeline/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/Pipeline/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["PipelineArtifactsBucketEncryptionKey01D58D69","Arn"]}},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["PipelineBuildCodeBuildCodePipelineActionRoleEE1A2CE7","Arn"]}}],"Version":"2012-10-17"},"policyName":"PipelineRoleDefaultPolicyC7A05455","roles":[{"Ref":"PipelineRoleD68726F7"}]}}}}}}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/Pipeline/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.CfnPipeline","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodePipeline::Pipeline","aws:cdk:cloudformation:props":{"artifactStore":{"type":"S3","location":{"Ref":"PipelineArtifactsBucket22248F97"},"encryptionKey":{"type":"KMS","id":{"Fn::GetAtt":["PipelineArtifactsBucketEncryptionKey01D58D69","Arn"]}}},"name":"energy-auction-pipeline-dev","roleArn":{"Fn::GetAtt":["PipelineRoleD68726F7","Arn"]},"stages":[{"name":"Source","actions":[{"name":"GitHub_Source","outputArtifacts":[{"name":"Artifact_Source_GitHub_Source"}],"actionTypeId":{"category":"Source","version":"1","owner":"ThirdParty","provider":"GitHub"},"configuration":{"Owner":"YOUR_GITHUB_USERNAME","Repo":"cloud-engineer-challenge","Branch":"master","OAuthToken":"{{resolve:secretsmanager:github-token:SecretString:::}}","PollForSourceChanges":false},"runOrder":1}]},{"name":"Build","actions":[{"name":"CodeBuild","inputArtifacts":[{"name":"Artifact_Source_GitHub_Source"}],"outputArtifacts":[{"name":"Artifact_Build_CodeBuild"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"BuildProject097C5DB7"}},"runOrder":1,"roleArn":{"Fn::GetAtt":["PipelineBuildCodeBuildCodePipelineActionRoleEE1A2CE7","Arn"]}}]}]}}},"Source":{"id":"Source","path":"EnergyAuctionStack-dev/Pipeline/Source","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"GitHub_Source":{"id":"GitHub_Source","path":"EnergyAuctionStack-dev/Pipeline/Source/GitHub_Source","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"WebhookResource":{"id":"WebhookResource","path":"EnergyAuctionStack-dev/Pipeline/Source/GitHub_Source/WebhookResource","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.CfnWebhook","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodePipeline::Webhook","aws:cdk:cloudformation:props":{"authentication":"GITHUB_HMAC","authenticationConfiguration":{"secretToken":"{{resolve:secretsmanager:github-token:SecretString:::}}"},"filters":[{"jsonPath":"$.ref","matchEquals":"refs/heads/{Branch}"}],"registerWithThirdParty":true,"targetAction":"GitHub_Source","targetPipeline":{"Ref":"PipelineC660917D"},"targetPipelineVersion":1}}}}}}},"Build":{"id":"Build","path":"EnergyAuctionStack-dev/Pipeline/Build","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CodeBuild":{"id":"CodeBuild","path":"EnergyAuctionStack-dev/Pipeline/Build/CodeBuild","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"EnergyAuctionStack-dev/Pipeline/Build/CodeBuild/CodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.203.1","metadata":[]},"children":{"ImportCodePipelineActionRole":{"id":"ImportCodePipelineActionRole","path":"EnergyAuctionStack-dev/Pipeline/Build/CodeBuild/CodePipelineActionRole/ImportCodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.203.1","metadata":[]}},"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/Pipeline/Build/CodeBuild/CodePipelineActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["PipelineRoleD68726F7","Arn"]}}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"EnergyAuctionStack-dev/Pipeline/Build/CodeBuild/CodePipelineActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.203.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"EnergyAuctionStack-dev/Pipeline/Build/CodeBuild/CodePipelineActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.203.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":{"Fn::GetAtt":["BuildProject097C5DB7","Arn"]}}],"Version":"2012-10-17"},"policyName":"PipelineBuildCodeBuildCodePipelineActionRoleDefaultPolicyD9C4A2F6","roles":[{"Ref":"PipelineBuildCodeBuildCodePipelineActionRoleEE1A2CE7"}]}}}}}}}}}}}}},"ApiEndpoint":{"id":"ApiEndpoint","path":"EnergyAuctionStack-dev/ApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.203.1"}},"OrderResultsBucketName":{"id":"OrderResultsBucketName","path":"EnergyAuctionStack-dev/OrderResultsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.203.1"}},"OrdersTableName":{"id":"OrdersTableName","path":"EnergyAuctionStack-dev/OrdersTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.203.1"}},"StateMachineArn":{"id":"StateMachineArn","path":"EnergyAuctionStack-dev/StateMachineArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.203.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"EnergyAuctionStack-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"EnergyAuctionStack-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.203.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"EnergyAuctionStack-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.203.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"EnergyAuctionStack-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.203.1"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}